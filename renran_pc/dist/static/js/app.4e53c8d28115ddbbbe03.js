webpackJsonp([1],{"0v1G":function(t,e){},AOqO:function(t,e,s){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setting-right"},[s("div",{staticClass:"setting-right-wrap wrap-boxes settings"},[s("div",{staticClass:"formBox"},[s("div",{staticClass:"setting-wrap setting-profile",attrs:{id:"setting-profile"}},[s("div",{staticClass:"common-title"},[t._v("\n          个人信息\n          "),s("a",{staticClass:"pull-right js-edit-info",attrs:{href:"javascript: void(0);"}},[s("i",{staticClass:"el-icon-edit"}),t._v("编辑")])]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"info-wapper"},[s("div",{staticClass:"info-box clearfix"},[s("label",{staticClass:"pull-left"},[t._v("昵称")]),t._v(" "),s("div",{staticClass:"pull-left"},[t._v("墨落")])]),t._v(" "),s("div",{staticClass:"info-box clearfix"},[s("label",{staticClass:"pull-left"},[t._v("职位")]),t._v(" "),s("div",{staticClass:"pull-left"},[t._v("CG影视动画师")])]),t._v(" "),s("div",{staticClass:"info-box clearfix"},[s("label",{staticClass:"pull-left"},[t._v("城市")]),t._v(" "),s("div",{staticClass:"pull-left"},[t._v("未设置")])]),t._v(" "),s("div",{staticClass:"info-box clearfix"},[s("label",{staticClass:"pull-left"},[t._v("性别")]),t._v(" "),s("div",{staticClass:"pull-left"},[t._v("男")])]),t._v(" "),s("div",{staticClass:"info-box clearfix"},[s("label",{staticClass:"pull-left"},[t._v("个性签名")]),t._v(" "),s("div",{staticClass:"pull-left"},[t._v("未设置")])])])])])])])}]};e.a=a},BVLH:function(t,e){},EWIa:function(t,e){},FZ8A:function(t,e){},IB3S:function(t,e){},KFh0:function(t,e,s){t.exports=s.p+"static/fonts/iconfont.edbb4ab.eot"},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},i,!1,function(t){s("POlL")},null,null).exports,r=s("/ocq"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("nav",{staticClass:"navbar"},[s("div",{staticClass:"width-limit"},[t._m(0),t._v(" "),s("router-link",{staticClass:"btn write-btn",attrs:{to:"/writer"}},[s("img",{staticClass:"icon-write",attrs:{src:"/static/image/write.svg"}}),t._v("写文章")]),t._v(" "),s("router-link",{staticClass:"btn sign-up",attrs:{id:"sign_up",to:"/user/register"}},[t._v("注册")]),t._v(" "),s("router-link",{staticClass:"btn log-in",attrs:{id:"sign_in",to:"/user/login"}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"menu"}},[s("ul",{staticClass:"nav navbar-nav"},[t._m(1),t._v(" "),t._l(t.nav_list,function(e){return s("li",{staticClass:"tab"},[e.is_http?s("a",{attrs:{href:e.link}},[s("i",{staticClass:"iconfont menu-icon",class:e.icon}),t._v(" "),s("span",{staticClass:"menu-text"},[t._v(t._s(e.name))])]):s("router-link",{attrs:{to:e.link}},[s("i",{staticClass:"iconfont menu-icon",class:e.icon}),t._v(" "),s("span",{staticClass:"menu-text"},[t._v(t._s(e.name))])]),t._v(" "),e.son_list.length>0?s("ul",{staticClass:"dropdown-menu"},t._l(e.son_list,function(e){return s("li",[e.is_http?s("a",{attrs:{href:e.link}},[s("i",{staticClass:"iconfont",class:e.icon}),t._v(" "),s("span",[t._v(t._s(e.name))])]):s("router-link",{attrs:{to:e.link}},[s("i",{staticClass:"iconfont",class:e.icon}),t._v(" "),s("span",[t._v(t._s(e.name))])])],1)}),0):t._e()],1)}),t._v(" "),t._m(2)],2)])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"logo",attrs:{href:"/"}},[e("img",{attrs:{src:"/static/image/nav-logo.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tab active"},[e("a",{attrs:{href:"/"}},[e("i",{staticClass:"iconfont ic-navigation-discover menu-icon"}),this._v(" "),e("span",{staticClass:"menu-text"},[this._v("首页")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"search"},[e("form",{attrs:{target:"_blank",action:"/search","accept-charset":"UTF-8",method:"get"}},[e("input",{staticClass:"search-input",attrs:{type:"text",name:"q",id:"q",value:"",autocomplete:"off",placeholder:"搜索"}}),this._v(" "),e("a",{staticClass:"search-btn",attrs:{href:"javascript:void(0)"}})])])}]};var c=s("VU/8")({name:"Header",data:function(){return{nav_list:[{link:"",is_http:"",son_list:[]}]}},created:function(){this.get_nav()},methods:{get_nav:function(){var t=this;this.$axios.get(this.$settings.Host+"/nav/header/").then(function(e){t.nav_list=e.data}).catch(function(e){t.$message.error("网络异常,无法获取导航信息!")})}}},o,!1,function(t){s("IB3S")},"data-v-6d028f01",null).exports,l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"main"},[t._l(t.nav_list,function(e,a){return s("span",[e.is_http?s("a",{attrs:{target:"_blank",href:e.link}},[t._v(t._s(e.name))]):s("router-link",{attrs:{to:e.link}},[t._v(t._s(e.name))]),t._v(" "),a<t.nav_list.length-1?s("em",[t._v(" · ")]):t._e()],1)}),t._v(" "),s("div",{staticClass:"icp"},[t._v("©2016-2019 广州荏苒信息科技有限公司 / 荏苒 / 粤ICP备16018329号-5 /")])],2)])])},staticRenderFns:[]};var u=s("VU/8")({name:"Footer",data:function(){return{nav_list:[{link:"",is_http:"",son_list:[]}]}},created:function(){this.get_nav()},methods:{get_nav:function(){var t=this;this.$axios.get(this.$settings.Host+"/nav/footer/").then(function(e){t.nav_list=e.data}).catch(function(e){t.$message.error("网络异常,无法获取导航信息!")})}}},l,!1,function(t){s("RYP2")},"data-v-44502fa8",null).exports,_={name:"Home",data:function(){return{banner_list:[],next_page:null,is_send_ajax:!1,article_list:[]}},created:function(){this.get_banner(),this.next_page=this.$settings.Host+"/push/article/?size=3",this.get_article()},filters:{format:function(t){if(null==t)return"";t=String(t);for(var e="";(e=t.replace(/<.*?>/,""))!==t;)t=e;return t}},methods:{get_banner:function(){var t=this;this.$axios.get(this.$settings.Host+"/banner/").then(function(e){t.banner_list=e.data}).catch(function(e){t.$message.error("网络异常，无法获取轮播图内容！")})},get_article:function(){var t=this;if(!this.is_send_ajax){this.is_send_ajax=!0,this.token=sessionStorage.user_token||localStorage.user_token;var e={};this.token&&(e={Authorization:"jwt "+this.token}),this.$axios.get(this.next_page,{headers:e}).then(function(e){t.article_list=t.article_list.concat(e.data.results),t.next_page=e.data.next,t.is_send_ajax=!1}).catch(function(e){t.$message.error("网络异常,无法获取文章列表内容!")})}}},components:{Header:c,Footer:u}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("Header"),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"main"},[s("div",{staticClass:"banner"},[s("el-carousel",{attrs:{height:"272px","indicator-position":"none",interval:2e3}},t._l(t.banner_list,function(t,e){return s("el-carousel-item",{key:e},[t.is_http?s("a",{attrs:{href:t.link}},[s("img",{attrs:{src:t.image,alt:""}})]):s("router-link",{attrs:{to:t.link}},[s("img",{attrs:{src:t.image,alt:""}})])],1)}),1)],1),t._v(" "),s("div",{attrs:{id:"list-container"}},[s("ul",{staticClass:"note-list"},t._l(t.article_list,function(e){return s("li",{},[s("div",{staticClass:"content"},[s("router-link",{staticClass:"title",attrs:{to:"/article/"+e.id}},[t._v(t._s(e.title))]),t._v(" "),s("p",{staticClass:"abstract"},[t._v(t._s(t._f("format")(e.html_content)))]),t._v(" "),s("div",{staticClass:"meta"},[s("router-link",{staticClass:"nickname",attrs:{to:"/user/"+e.user.id}},[t._v("\n                    "+t._s(e.user.nickname?e.user.nickname:e.user.username)+"\n                  ")]),t._v(" "),s("router-link",{attrs:{to:"/article/"+e.id+"#comment"}},[s("img",{attrs:{src:"/static/image/comment.svg",alt:""}}),t._v(" "+t._s(e.comment_count)+"\n                  ")]),t._v(" "),e.like_count>0?s("span",[s("img",{attrs:{src:"/static/image/like.svg",alt:""}}),t._v(" "+t._s(e.like_count))]):t._e(),t._v(" "),e.reward_count>0?s("span",[s("img",{attrs:{src:"/static/image/shang.svg",alt:""}}),t._v(" "+t._s(e.reward_count))]):t._e()],1)],1)])}),0)]),t._v(" "),t.next_page?s("a",{staticClass:"load-more",attrs:{href:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.get_article.apply(null,arguments)}}},[t._v("阅读更多")]):t._e()]),t._v(" "),t._m(0)])]),t._v(" "),s("Footer")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aside"},[s("div",{staticClass:"recommended-author-wrap"},[s("div",{staticClass:"recommended-authors"},[s("div",{staticClass:"title"},[s("span",[t._v("推荐作者")]),t._v(" "),s("a",{staticClass:"page-change"},[s("img",{staticClass:"icon-change",attrs:{src:"/static/image/exchange-rate.svg",alt:""}}),t._v("换一批")])]),t._v(" "),s("ul",{staticClass:"list"},[s("li",[s("a",{staticClass:"avatar",attrs:{href:"",target:"_blank"}},[s("img",{attrs:{src:"/static/image/avatar.webp"}})]),t._v(" "),s("a",{staticClass:"follow",attrs:{state:"0"}},[s("img",{attrs:{src:"/static/image/follow.svg",alt:""}}),t._v("关注")]),t._v(" "),s("a",{staticClass:"name",attrs:{href:"",target:"_blank"}},[t._v("董克平日记")]),t._v(" "),s("p",[t._v("写了807.1k字 · 2.5k喜欢")])]),t._v(" "),s("li",[s("a",{staticClass:"avatar",attrs:{href:"",target:"_blank"}},[s("img",{attrs:{src:"/static/image/avatar.webp"}})]),t._v(" "),s("a",{staticClass:"follow",attrs:{state:"0"}},[s("img",{attrs:{src:"/static/image/follow.svg",alt:""}}),t._v("关注")]),t._v(" "),s("a",{staticClass:"name",attrs:{href:"",target:"_blank"}},[t._v("董克平日记")]),t._v(" "),s("p",[t._v("写了807.1k字 · 2.5k喜欢")])])]),t._v(" "),s("a",{staticClass:"find-more",attrs:{href:"",target:"_blank"}},[t._v("查看全部 >")])])])])}]};var p=s("VU/8")(_,d,!1,function(t){s("yKUb")},"data-v-f1b17cd8",null).exports,h={name:"Login",data:function(){return{username:"",password:"",remember_me:""}},methods:{qq_login:function(){var t=this;this.$axios.get(this.$settings.Host+"/oauth/qq/").then(function(t){location.href=t.data}).catch(function(e){t.$message.error("对不起,QQ第三方登录暂时没有开通!")})},show_captcha:function(){var t=this;if(this.username.length<1||this.password.length<1)return!1;new TencentCaptcha(this.$settings.TC_captcha.app_id,function(e){console.log(e),t.$axios.get(t.$settings.Host+"/users/captcha/",{params:{ticket:e.ticket,randstr:e.randstr}}).then(function(e){e.data.detail&&t.loginhandler()}).catch(function(e){t.$message.error("对不起，验证码校验不通过！")})}).show()},loginhandler:function(){var t=this;this.$axios.post(this.$settings.Host+"/users/login/",{username:this.username,password:this.password}).then(function(e){t.remember_me?(localStorage.user_token=e.data.token,localStorage.user_id=e.data.id,localStorage.user_name=e.data.username,localStorage.user_avatar=e.data.avatar,sessionStorage.removeItem("user_token"),sessionStorage.removeItem("user_id"),sessionStorage.removeItem("user_name"),sessionStorage.removeItem("user_avatar")):(sessionStorage.user_token=e.data.token,sessionStorage.user_id=e.data.id,sessionStorage.user_name=e.data.username,sessionStorage.user_avatar=e.data.avatar,localStorage.removeItem("user_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_avatar")),t.$confirm("是否跳转到个人中心","登录成功",{confirmButtonText:"个人中心",cancelButtonText:"返回首页",type:"success"}).then(function(){t.$router.push("/users")}).catch(function(){t.$router.push("/")})}).catch(function(e){t.$message.error("登录失败！"),t.username="",t.password=""})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:"/static/image/nav-logo.png",alt:"Logo"}})])],1),t._v(" "),s("div",{staticClass:"main"},[s("h4",{staticClass:"title"},[s("div",{staticClass:"normal-title"},[s("router-link",{staticClass:"active",attrs:{to:"/user/login"}},[t._v("登录")]),t._v(" "),s("b",[t._v("·")]),t._v(" "),s("router-link",{attrs:{id:"js-sign-up-btn",to:"/user/register"}},[t._v("注册")])],1)]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",{attrs:{id:"new_session",action:"",method:"post"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"手机号或邮箱",type:"text",id:"session_email_or_mobile_number"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-user"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"password",id:"session_password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("div",{staticClass:"remember-btn"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.remember_me,expression:"remember_me"}],attrs:{type:"checkbox",id:"session_remember_me"},domProps:{checked:Array.isArray(t.remember_me)?t._i(t.remember_me,null)>-1:t.remember_me},on:{change:function(e){var s=t.remember_me,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.remember_me=s.concat([null])):n>-1&&(t.remember_me=s.slice(0,n).concat(s.slice(n+1)))}else t.remember_me=i}}}),s("span",[t._v("记住我")])]),t._v(" "),s("div",{staticClass:"forget-btn"},[s("router-link",{attrs:{"data-toggle":"dropdown",to:"/find_password"}},[t._v("登录遇到问题?")])],1),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{id:"sign-in-form-submit-btn",type:"button"},on:{click:t.show_captcha}},[s("span",{attrs:{id:"sign-in-loading"}}),t._v("\n          登录\n        ")])]),t._v(" "),s("div",{staticClass:"more-sign"},[s("h6",[t._v("社交帐号登录")]),t._v(" "),s("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),s("li",[s("a",{staticClass:"qq",attrs:{id:"qq",target:"_blank",href:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.qq_login.apply(null,arguments)}}},[s("i",{staticClass:"iconfont ic-qq_connect"})])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{attrs:{id:"weibo-link-wrap"}},[e("a",{staticClass:"weibo",attrs:{id:"weibo-link"}},[e("i",{staticClass:"iconfont ic-weibo"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"weixin",attrs:{id:"weixin",target:"_blank",href:""}},[e("i",{staticClass:"iconfont ic-wechat"})])])}]};var v=s("VU/8")(h,f,!1,function(t){s("sUGv")},"data-v-7940759e",null).exports,m={name:"Register",data:function(){return{nickname:"",mobile:"",sms_code:"",password:"",sms_code_text:"发送验证码",is_show_sms_code:!1}},watch:{mobile:function(){/^1[3-9]\d{9}$/.test(this.mobile)?this.check_mobile():this.is_show_sms_code=!1}},methods:{check_mobile:function(){var t=this;this.$axios.get(this.$settings.Host+"/users/mobile/"+this.mobile+"/").then(function(e){console.log(e.data),t.is_show_sms_code=!0}).catch(function(e){t.$message.error("对不起,手机号码已经被注册了!"),t.is_show_sms_code=!1})},show_captcha:function(){var t=this;return this.mobile.length<1||this.password.length<1?(this.$message.error("手机号码或密码不能为空！"),!1):this.nickname.length<1||this.sms_code.length<1?(this.$message.error("昵称或短信验证码不能为空！"),!1):void new TencentCaptcha(this.$settings.TC_captcha.app_id,function(e){t.$axios.get(t.$settings.Host+"/users/captcha/",{params:{ticket:e.ticket,randstr:e.randstr}}).then(function(e){e.data.detail&&t.registerhandler()}).catch(function(e){t.$message.error("对不起，验证码校验不通过！")})}).show()},registerhandler:function(){var t=this;this.$axios.post(this.$settings.Host+"/users/",{nickname:this.nickname,mobile:this.mobile,sms_code:this.sms_code,password:this.password}).then(function(e){sessionStorage.user_token=e.data.token,sessionStorage.user_id=e.data.id,sessionStorage.user_name=e.data.username,sessionStorage.user_avatar=null,localStorage.removeItem("user_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_avatar"),t.$confirm("是否跳转到个人中心","注册成功",{confirmButtonText:"个人中心",cancelButtonText:"返回首页",type:"success"}).then(function(){t.$router.push("/users")}).catch(function(){t.$router.push("/")})}).catch(function(e){t.$message.error("注册用户失败！")})},send_sms:function(){var t=this;if(this.mobile.length<1)return this.$message.error("对不起,手机号码不能为空!"),!1;this.$axios.get(this.$settings.Host+"/users/sms/"+this.mobile+"/").then(function(e){t.$message.info(e.data.detail)}).catch(function(e){t.$message.error("短信发送错误!请联系客服工作人员!")})}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:"/static/image/nav-logo.png",alt:"Logo"}})])],1),t._v(" "),s("div",{staticClass:"main"},[s("h4",{staticClass:"title"},[s("div",{staticClass:"normal-title"},[s("router-link",{attrs:{to:"/login"}},[t._v("登录")]),t._v(" "),s("b",[t._v("·")]),t._v(" "),s("router-link",{staticClass:"active",attrs:{id:"js-sign-up-btn",to:"/register"}},[t._v("注册")])],1)]),t._v(" "),s("div",{staticClass:"js-sign-up-container"},[s("form",{staticClass:"new_user",attrs:{id:"new_user",action:"","accept-charset":"UTF-8",method:"post"}},[s("div",{staticClass:"input-prepend restyle"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{placeholder:"你的昵称",type:"text",value:"",id:"user_nickname"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-user"})]),t._v(" "),s("div",{staticClass:"input-prepend restyle no-radius js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{placeholder:"手机号",type:"tel",id:"user_mobile_number"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-phonenumber"})]),t._v(" "),t.is_show_sms_code?s("div",{staticClass:"input-prepend restyle no-radius security-up-code js-security-number"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_code,expression:"sms_code"}],attrs:{type:"text",id:"sms_code",placeholder:"手机验证码"},domProps:{value:t.sms_code},on:{input:function(e){e.target.composing||(t.sms_code=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-verify"}),t._v(" "),s("a",{staticClass:"btn-up-resend js-send-code-button",attrs:{tabindex:"-1",href:"javascript:void(0);",id:"send_code"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.send_sms.apply(null,arguments)}}},[t._v(t._s(t.sms_code_text))])]):t._e(),t._v(" "),s("input",{attrs:{type:"hidden",name:"security_number",id:"security_number"}}),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"设置密码",type:"password",id:"user_password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("input",{staticClass:"sign-up-button",attrs:{type:"submit",name:"commit",value:"注册",id:"sign_up_btn"},on:{click:function(e){return e.preventDefault(),t.show_captcha.apply(null,arguments)}}}),t._v(" "),t._m(0)]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"sign-up-msg"},[this._v("点击 “注册” 即表示您同意并愿意遵守荏苒"),e("br"),this._v(" "),e("a",{attrs:{target:"_blank",href:""}},[this._v("用户协议")]),this._v(" 和 "),e("a",{attrs:{target:"_blank",href:""}},[this._v("隐私政策")]),this._v(" 。\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more-sign"},[e("h6",[this._v("社交帐号直接注册")]),this._v(" "),e("ul",[e("li",[e("a",{staticClass:"weixin",attrs:{id:"weixin",target:"_blank",href:""}},[e("i",{staticClass:"iconfont ic-wechat"})])]),this._v(" "),e("li",[e("a",{staticClass:"qq",attrs:{id:"qq",target:"_blank",href:""}},[e("i",{staticClass:"iconfont ic-qq_connect"})])])])])}]};var C=s("VU/8")(m,g,!1,function(t){s("xJL+")},"data-v-f0d3a27c",null).exports,b=(s("TTdp"),{name:"FindPassword",data:function(){return{email:"",password:""}},methods:{send_email:function(){var t=this;if(!/^\w+@\w+\.\w+$/.test(this.email))return this.$message.error("邮箱地址格式有误！"),!1;this.$axios.get(this.$settings.Host+"/users/find/password/",{params:{email:this.email}}).then(function(e){t.$message.success(e.data)}).catch(function(e){t.$message.error("发送邮件失败！")})},show_captcha:function(){if(this.email.length<1)return!1;var t=this;new TencentCaptcha(this.$settings.TC_captcha.app_id,function(e){console.log(e),0===e.ret&&t.$axios.get(t.$settings.Host+"/users/captcha/",{params:{ticket:e.ticket,randstr:e.randstr}}).then(function(e){t.send_email()}).catch(function(e){t.$message.error("验证码校验错误！")})}).show()}}}),w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[t._m(0),t._v(" "),s("div",{staticClass:"main"},[s("h4",{staticClass:"reset-title"},[t._v("用邮箱重置密码")]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",{attrs:{id:"new_session",action:"",method:"post"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"请输入注册或绑定的邮箱",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-email"})]),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.show_captcha.apply(null,arguments)}}},[s("span",{attrs:{id:"sign-in-loading"}}),t._v("发送邮件\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/static/image/nav-logo.png",alt:"Logo"}})])])}]};var y=s("VU/8")(b,w,!1,function(t){s("dzJD")},"data-v-e56019a8",null).exports,k={name:"ResetPassword",data:function(){return{email:"",password:"",password2:""}},created:function(){this.check_access_token()},methods:{check_access_token:function(){var t=this;this.$axios.post(this.$settings.Host+"/users/find/password/",{access_token:this.$route.query.access_token}).then(function(e){t.email=e.data.email}).catch(function(e){var s=t;t.$alert("访问页面发生错误，无法修改密码，请确认您的邮件是否超过有效期或链接地址有误！","错误",{callback:function(){s.$router.go(-1)}})})},passwordhander:function(){var t=this;this.$axios.put(this.$settings.Host+"/users/find/password/",{access_token:this.$route.query.access_token,password:this.password,password2:this.password2}).then(function(e){t.$confirm("重置密码成功！","提示",{confirmButtonText:"立即登录",cancelButtonText:"返回上一页",type:"success"}).then(function(){t.$router.push("/user/login")}).catch(function(){t.$router.go(-1)})}).catch(function(e){t.$message.error("重置密码失败！")})},show_captcha:function(){if(this.password!==this.password2)return this.$message.error("密码和确认密码不一致"),!1;if(this.password.length<6||this.password.length>16)return this.$message.error("密码长度必须在6-16个字符之间"),!1;var t=this;new TencentCaptcha(this.$settings.TC_captcha.app_id,function(e){console.log(e),0===e.ret&&t.$axios.get(t.$settings.Host+"/users/captcha/",{params:{ticket:e.ticket,randstr:e.randstr}}).then(function(e){t.passwordhander()}).catch(function(e){t.$message.error("验证码校验错误！")})}).show()}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[t._m(0),t._v(" "),s("div",{staticClass:"main"},[s("h4",{staticClass:"reset-title"},[t._v("\n      使用邮箱重置密码\n    ")]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",{attrs:{id:"new_session",action:"",method:"post"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{attrs:{type:"text",readonly:"",id:"session_email_or_mobile_number"},domProps:{value:t.email}}),t._v(" "),s("i",{staticClass:"iconfont ic-email"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],attrs:{placeholder:"确认密码",type:"password"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{id:"sign-in-form-submit-btn",type:"button"},on:{click:function(e){return e.preventDefault(),t.show_captcha.apply(null,arguments)}}},[s("span",{attrs:{id:"sign-in-loading"}}),t._v("重置密码\n        ")])]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/static/image/nav-logo.png",alt:"Logo"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more-sign"},[e("h6",[this._v("社交帐号登录")]),this._v(" "),e("ul",[e("li",{attrs:{id:"weibo-link-wrap"}},[e("a",{staticClass:"weibo",attrs:{id:"weibo-link"}},[e("i",{staticClass:"iconfont ic-weibo"})])]),this._v(" "),e("li",[e("a",{staticClass:"weixin",attrs:{id:"weixin",target:"_blank",href:""}},[e("i",{staticClass:"iconfont ic-wechat"})])]),this._v(" "),e("li",[e("a",{staticClass:"qq",attrs:{id:"qq",target:"_blank",href:""}},[e("i",{staticClass:"iconfont ic-qq_connect"})])])])])}]};var $=s("VU/8")(k,x,!1,function(t){s("FZ8A")},"data-v-73fbdb4a",null).exports,E={name:"QQCallBack",data:function(){return{is_show_page:!1,status:1,username:"",password:"",nickname:"",mobile:"",sms_code:"",sms_code_text:"发送验证码",is_show_sms_code:!1,openid:"",access_token:"",refresh_token:""}},watch:{mobile:function(){/^1[3-9]\d{9}$/.test(this.mobile)?this.check_mobile():this.is_show_sms_code=!1}},created:function(){this.get_user_info()},methods:{get_user_info:function(){var t=this;this.$axios.get(this.$settings.Host+"/oauth/qq/user/",{params:{code:this.$route.query.code,state:this.$route.query.state}}).then(function(e){e.data.token?(sessionStorage.user_token=e.data.token,sessionStorage.user_id=e.data.id,sessionStorage.user_name=e.data.username,sessionStorage.user_avatar=e.data.avatar,localStorage.removeItem("user_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_avatar"),t.$confirm("是否跳转到个人中心","登录成功",{confirmButtonText:"个人中心",cancelButtonText:"返回首页",type:"success"}).then(function(){t.$router.push("/users")}).catch(function(){t.$router.push("/")})):(t.is_show_page=!0,t.openid=e.data.openid,t.access_token=e.data.access_token,t.refresh_token=e.data.refresh_token)}).catch(function(e){var s=t;s.$message({type:"error",duration:2e3,message:"QQ登录失败!请尝试其他登录方式,页面跳转中....",onClose:function(){s.$router.push("/user/login")}})})},show_captcha:function(){var t=this;if(this.username.length<1||this.password.length<1)return!1;new TencentCaptcha(this.$settings.TC_captcha.app_id,function(e){t.$axios.get(t.$settings.Host+"/users/captcha/",{params:{ticket:e.ticket,randstr:e.randstr}}).then(function(e){e.data.detail&&(1===t.status?t.loginhandler():t.registerHandler())}).catch(function(e){t.$message.error("对不起，验证码校验不通过！")})}).show()},loginhandler:function(){var t=this;this.$axios.post(this.$settings.Host+"/oauth/qq/login/",{username:this.username,password:this.password,openid:this.openid,access_token:this.access_token,refresh_token:this.refresh_token}).then(function(e){e.data.token?(sessionStorage.user_token=e.data.token,sessionStorage.user_id=e.data.id,sessionStorage.user_name=e.data.username,sessionStorage.user_avatar=e.data.avatar,localStorage.removeItem("user_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_avatar"),t.$confirm("是否跳转到个人中心","登录成功",{confirmButtonText:"个人中心",cancelButtonText:"返回首页",type:"success"}).then(function(){t.$router.push("/users")}).catch(function(){t.$router.push("/")})):(t.is_show_page=!0,t.openid=e.data.openid,t.access_token=e.data.access_token,t.refresh_token=e.data.refresh_token)}).catch(function(e){var s=t;s.$message({type:"error",duration:2e3,message:"QQ登录失败!请尝试其他登录方式,页面跳转中....",onClose:function(){s.$router.push("/user/login")}})})},send_sms:function(){var t=this;if(this.mobile.length<1)return this.$message.error("对不起,手机号码不能为空!"),!1;this.$axios.get(this.$settings.Host+"/users/sms/"+this.mobile+"/").then(function(e){t.$message.info(e.data.detail)}).catch(function(e){t.$message.error("短信发送错误!请联系客服工作人员!")})},check_mobile:function(){var t=this;this.$axios.get(this.$settings.Host+"/users/mobile/"+this.mobile+"/").then(function(e){console.log(e.data),t.is_show_sms_code=!0}).catch(function(e){t.$message.error("对不起,手机号码已经被注册了!"),t.is_show_sms_code=!1})},registerHandler:function(){var t=this;this.$axios.post(this.$settings.Host+"/oauth/qq/reg/",{mobile:this.mobile,nickname:this.nickname,sms_code:this.sms_code,password:this.password,openid:this.openid,access_token:this.access_token,refresh_token:this.refresh_token}).then(function(e){e.data.token?(sessionStorage.user_token=e.data.token,sessionStorage.user_id=e.data.id,sessionStorage.user_name=e.data.username,sessionStorage.user_avatar=e.data.avatar,localStorage.removeItem("user_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_avatar"),t.$confirm("是否跳转到个人中心","注册成功",{confirmButtonText:"个人中心",cancelButtonText:"返回首页",type:"success"}).then(function(){t.$router.push("/users")}).catch(function(){t.$router.push("/")})):(t.is_show_page=!0,t.openid=e.data.openid,t.access_token=e.data.access_token,t.refresh_token=e.data.refresh_token)}).catch(function(e){var s=t;s.$message({type:"error",duration:2e3,message:"QQ登录失败!请尝试其他登录方式,页面跳转中....",onClose:function(){s.$router.push("/user/login")}})})}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show_page,expression:"is_show_page"}]},[s("div",{staticClass:"sign"},[t._m(0),t._v(" "),s("div",{staticClass:"main"},[s("h4",{staticClass:"title"},[s("div",{staticClass:"normal-title"},[s("a",{class:1===t.status?"active":"",on:{click:function(e){t.status=1}}},[t._v("已有账号")]),t._v(" "),s("b",[t._v("·")]),t._v(" "),s("a",{class:2===t.status?"active":"",on:{click:function(e){t.status=2}}},[t._v("没有账号")])])]),t._v(" "),1===t.status?s("div",{staticClass:"js-sign-in-container"},[s("form",{attrs:{action:"",method:"post"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"登录账号或手机号或邮箱",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-user"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("div",{staticClass:"forget-btn"},[s("router-link",{attrs:{to:"/find_password"}},[t._v("通过邮箱找回密码?")])],1),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.show_captcha.apply(null,arguments)}}},[s("span"),t._v("登录\n          ")])])]):t._e(),t._v(" "),2===t.status?s("div",{staticClass:"js-sign-in-container"},[s("form",{staticClass:"new_user",attrs:{id:"new_user",action:"","accept-charset":"UTF-8",method:"post"}},[s("div",{staticClass:"input-prepend restyle"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{placeholder:"你的昵称",type:"text",value:"",id:"user_nickname"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-user"})]),t._v(" "),s("div",{staticClass:"input-prepend restyle no-radius js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{placeholder:"手机号",type:"tel",id:"user_mobile_number"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-phonenumber"})]),t._v(" "),t.is_show_sms_code?s("div",{staticClass:"input-prepend restyle no-radius security-up-code js-security-number"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_code,expression:"sms_code"}],attrs:{type:"text",id:"sms_code",placeholder:"手机验证码"},domProps:{value:t.sms_code},on:{input:function(e){e.target.composing||(t.sms_code=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-verify"}),t._v(" "),s("a",{staticClass:"btn-up-resend js-send-code-button",attrs:{tabindex:"-1",href:"javascript:void(0);",id:"send_code"},on:{click:function(e){return e.preventDefault(),t.send_sms.apply(null,arguments)}}},[t._v(t._s(t.sms_code_text))])]):t._e(),t._v(" "),s("input",{attrs:{type:"hidden",name:"security_number",id:"security_number"}}),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"设置密码",type:"password",id:"user_password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("i",{staticClass:"iconfont ic-password"})]),t._v(" "),s("input",{staticClass:"sign-up-button",attrs:{type:"submit",name:"commit",value:"注册",id:"sign_up_btn"},on:{click:function(e){return e.preventDefault(),t.registerHandler.apply(null,arguments)}}}),t._v(" "),t._m(1)])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/static/image/nav-logo.png",alt:"Logo"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"sign-up-msg"},[this._v("点击 “注册” 即表示您同意并愿意遵守荏苒"),e("br"),this._v(" "),e("a",{attrs:{target:"_blank",href:""}},[this._v("用户协议")]),this._v(" 和 "),e("a",{attrs:{target:"_blank",href:""}},[this._v("隐私政策")]),this._v(" 。\n          ")])}]};var R=s("VU/8")(E,O,!1,function(t){s("gHEG")},"data-v-dbcea8a0",null).exports,S=s("OS1Z"),T=s.n(S),A=(s("pw1w"),s("hAif"),{name:"Writer",data:function(){return{token:"",editorTitle:"",editorContent:"",editorRender:"",img_file:[],collection_form:!1,collection_name:"",is_show_page:!1,collection_list:[],current_collection:0,is_show_collection_menu:!1,article_list:[],current_article:0,is_show_article_menu:!1,is_interval_window:!1,pub_date:(new Date).toLocaleDateString(),timer:null}},watch:{editorTitle:function(){this.int_save_article()},current_collection:function(){this.is_show_collection_menu=!1,this.get_article()},current_article:function(){this.is_show_article_menu=!1,this.article_list.length>0&&(this.editorTitle=this.article_list[this.current_article].title,this.editorContent=this.article_list[this.current_article].content||"")}},mounted:function(){var t=this;this.is_show_page&&(document.querySelector("#editor").style.height=document.documentElement.clientHeight-document.querySelector("._24i7u").clientHeight+"px",document.onclick=function(e){t.is_show_collection_menu=!1,t.is_show_article_menu=!1})},created:function(){this.token=this.$settings.check_user_login(this),this.token&&this.get_collection()},components:{mavonEditor:S.mavonEditor},methods:{get_collection:function(){var t=this;this.$axios.get(this.$settings.Host+"/article/collection/",{headers:{Authorization:"jwt "+this.token}}).then(function(e){t.collection_list=e.data,t.get_article()}).catch(function(e){t.$message.error("网络异常,获取文集列表失败!")})},add_collection:function(){var t=this;this.$axios.post(this.$settings.Host+"/article/collection/",{name:this.collection_name},{headers:{Authorization:"jwt "+this.token}}).then(function(e){t.$message.success("新增文集成功！"),t.collection_list.push(e.data),t.collection_name="",t.collection_form=!1}).catch(function(e){t.$message.error("对不起，新增文集失败！")})},del_collection:function(){var t=this;if(this.collection_list.length<2)return this.$message.error("对不起，当前文集列表只剩下一个文集了，所以不能删除！"),!1;var e=this.collection_list[this.current_collection].id,s=this.collection_list[this.current_collection].name;this.$confirm("确认要删除当前文集《"+s+"》吗？","危险操作",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete(t.$settings.Host+"/article/collection/"+e+"/",{headers:{Authorization:"jwt "+t.token}}).then(function(e){t.$message.success("成功删除当前文集！"),t.collection_list.splice(t.current_collection,1),t.current_collection=0,t.get_article()}).catch(function(e){t.$message.error("删除文集失败！")})}).catch(function(){})},put_collection:function(){var t=this,e=this.collection_list[this.current_collection].id,s=this.collection_list[this.current_collection].name;this.$prompt("请输入新的文集名称","修改文集",{confirmButtonText:"更新",cancelButtonText:"取消",inputValidator:function(t){if(t===s)return"对不起，文集名称没有进行修改！"}}).then(function(s){var a=s.value;t.$axios.put(t.$settings.Host+"/article/collection/"+e+"/",{name:a},{headers:{Authorization:"jwt "+t.token}}).then(function(e){t.collection_list[t.current_collection].name=a}).catch(function(t){})}).catch(function(){})},get_article:function(){var t=this,e=this.collection_list[this.current_collection].id;this.$axios.get(this.$settings.Host+"/article/collection/"+e+"/articles/",{headers:{Authorization:"jwt "+this.token}}).then(function(e){t.article_list=e.data,t.article_list.length>0&&(t.editorTitle=t.article_list[t.current_article].title,t.editorContent=t.article_list[t.current_article].content||"")}).catch(function(e){t.$message.error("获取文章列表失败!")})},add_article:function(t){var e=this,s=this.collection_list[this.current_collection].id;this.$axios.post(this.$settings.Host+"/article/collection/"+s+"/articles/",{insert:t,title:(new Date).toLocaleDateString().split("/").join("-")},{headers:{Authorization:"jwt "+this.token}}).then(function(s){t?(e.article_list.unshift(s.data),e.current_article=0):(e.article_list.push(s.data),e.current_article=e.article_list.length-1),e.article_list.length>0&&(e.editorTitle=e.article_list[e.current_article].title,e.editorContent=e.article_list[e.current_article].content)}).catch(function(t){e.$message.error("添加文章失败!请联系客服工作人员!")})},pub_article:function(){var t=this,e=this.article_list[this.current_article];this.$axios.patch(this.$settings.Host+"/article/"+e.id+"/",{},{headers:{Authorization:"jwt "+this.token}}).then(function(s){e.pub_date?e.pub_date=null:e.is_public?e.is_public=!1:(e.is_public=!0,localStorage.article_id=t.article_list[t.current_article].id,localStorage.article_title=t.article_list[t.current_article].title,t.$router.push("/post"))}).catch(function(e){t.$message.error("添加文章失败!请联系客服工作人员!")}),this.is_show_article_menu=!1},mov_article:function(t){var e=this,s=this.article_list[this.current_article];this.$axios.put(this.$settings.Host+"/article/"+s.id+"/",{collection:t},{headers:{Authorization:"jwt "+this.token}}).then(function(t){e.article_list.splice(e.current_article,1)}).catch(function(t){e.$message.error("移动文章失败!")})},int_article:function(){var t=this,e=this.article_list[this.current_article];if(e.is_public)return this.$message.error("当前文章已经发布过,不能设置定时发布!"),!1;this.$axios.patch(this.$settings.Host+"/article/"+e.id+"/interval/",{pub_date:this.timeformat(this.pub_date)},{headers:{Authorization:"jwt "+this.token}}).then(function(e){t.$message.success("定时发布文章设置成功!"),t.is_interval_window=!1,t.article_list[t.current_article].pub_date=t.timeformat(t.pub_date)}).catch(function(e){t.$message.error("定时发布文章设置失败!")})},save_article:function(){var t=this,e=this.article_list[this.current_article];null==this.editorContent&&(this.editorContent=""),null==this.editorRender&&(this.editorRender=""),this.$axios.put(this.$settings.Host+"/article/"+e.id+"/info/",{title:this.editorTitle,content:this.editorContent,html_content:this.editorRender},{headers:{Authorization:"jwt "+this.token}}).then(function(s){e.title=t.editorTitle,e.content=t.editorContent,e.html_content=t.editorRender}).catch(function(e){t.$message.error("网络异常，编辑的文章内容无法保存，请及时对当前内容进行备份处理并联系客服工作人员！")})},int_save_article:function(){clearTimeout(this.timer),this.timer=setTimeout(this.save_article,2e3)},change_article:function(t,e){this.editorContent=t,this.editorRender=e,this.int_save_article()},imgAdd:function(t,e){var s=this,a=new FormData;a.append("image",e),this.$axios.post(this.$settings.Host+"/article/image/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"jwt "+this.token}}).then(function(e){s.$refs.md.$img2Url(t,e.data.image)})},imgDel:function(t){delete this.img_file[t],this.$refs.toolbar_left.$imgDelByFilename(t)},timeformat:function(t){var e=(t=new Date(t)).getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var a=t.getDate();a=a<10?"0"+a:a;var i=t.getHours();i=i<10?"0"+i:i;var n=t.getMinutes();n=n<10?"0"+n:n;var r=t.getSeconds();return e+"-"+s+"-"+a+" "+i+":"+n+":"+(r=r<10?"0"+r:r)}}}),j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.is_show_page?s("div",{staticClass:"write"},[s("div",{staticClass:"_2v5v5"},[s("div",{staticClass:"_3zibT"},[s("router-link",{attrs:{to:"/"}},[t._v("回首页")])],1),t._v(" "),s("div",{staticClass:"_1iZMb"},[s("div",{staticClass:"_33Zlg",on:{click:function(e){t.collection_form=!t.collection_form}}},[s("i",{staticClass:"fa fa-plus"}),s("span",[t._v("新建文集")])]),t._v(" "),s("div",{staticClass:"_2G97m"},[s("form",{staticClass:"M8J6Q",class:t.collection_form?"_2a1Rp":"_1mU5v"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.collection_name,expression:"collection_name"}],staticClass:"_1CtV4",attrs:{type:"text",placeholder:"请输入文集名..."},domProps:{value:t.collection_name},on:{input:function(e){e.target.composing||(t.collection_name=e.target.value)}}}),t._v(" "),s("button",{staticClass:"dwU8Q _3zXcJ _3QfkW",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.add_collection.apply(null,arguments)}}},[s("span",[t._v("提 交")])]),t._v(" "),s("button",{staticClass:"vIzwB _3zXcJ",attrs:{type:"button"},on:{click:function(e){t.collection_form=!1}}},[s("span",[t._v("取 消")])])])])]),t._v(" "),s("ul",{staticClass:"_3MbJ4 _3t059"},t._l(t.collection_list,function(e,a){return s("li",{staticClass:"_3DM7w",class:a===t.current_collection?"_31PCv":"",attrs:{title:e.name},on:{click:function(e){t.current_collection=a}}},[a===t.current_collection?s("div",{staticClass:"_3P4JX _2VLy-",on:{click:function(e){e.stopPropagation(),t.is_show_collection_menu=!t.is_show_collection_menu}}},[s("i",{staticClass:"fa fa-gear"}),t._v(" "),s("span",[s("ul",{staticClass:"_2V8zt _3FcHm _2w9pn",class:t.is_show_collection_menu?"NvfK4":""},[s("li",{staticClass:"_2po2r cRfUr",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.put_collection.apply(null,arguments)}}},[t._m(0,!0)]),t._v(" "),s("li",{staticClass:"_2po2r cRfUr",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.del_collection.apply(null,arguments)}}},[t._m(1,!0)])])])]):t._e(),t._v(" "),s("span",[t._v(t._s(e.name))])])}),0),t._v(" "),s("div",{staticStyle:{height:"50px"}}),t._v(" "),t._m(2)]),t._v(" "),s("div",{staticClass:"rQQG7"},[s("div",{staticClass:"_3revO _2mnPN"},[s("div",{staticClass:"_3br9T"},[s("div",[s("div",{staticClass:"_1GsW5",on:{click:function(e){return t.add_article(!0)}}},[s("i",{staticClass:"fa fa-plus-circle"}),s("span",[t._v(" 新建文章")])]),t._v(" "),s("ul",{staticClass:"_2TxA-"},t._l(t.article_list,function(e,a){return s("li",{staticClass:"_25Ilv",class:a===t.current_article?"_33nt7":"",attrs:{title:e.title},on:{click:function(e){t.current_article=a}}},[s("i",{staticClass:"_13kgp",class:e.is_public?"_2m93u":null==e.pub_date?"":"interval"}),t._v(" "),a===t.current_article?s("div",{staticClass:"_3P4JX poOXI",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.is_show_article_menu=!t.is_show_article_menu}}},[s("i",{staticClass:"fa fa-gear"}),t._v(" "),s("span",[s("ul",{staticClass:"_2V8zt _3FcHm _2w9pn",class:t.is_show_article_menu?"NvfK4":""},[e.is_public||e.pub_date?s("li",{staticClass:"_2po2r cRfUr",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.pub_article.apply(null,arguments)}}},[t._m(4,!0)]):s("li",{staticClass:"_2po2r cRfUr",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.pub_article.apply(null,arguments)}}},[t._m(3,!0)]),t._v(" "),e.is_public||e.pub_date?t._e():s("li",{staticClass:"_2po2r cRfUr",on:{click:function(e){t.is_interval_window=!0}}},[t._m(5,!0)]),t._v(" "),t._m(6,!0),t._v(" "),t._m(7,!0),t._v(" "),s("li",{staticClass:"_3nZXj _2_WAp _3df2u _2po2r cRfUr",attrs:{title:""}},[s("span",{},[s("i",{staticClass:"fa fa-folder-open _22XWG"}),t._v("移动文章\n                        "),s("div",{staticClass:"_3x4X_"},[s("ul",{staticClass:"_2KzJx oGKRI _3DXDE _2w9pn"},t._l(t.collection_list,function(e,a){return a!==t.current_collection?s("li",{staticClass:"_2po2r cRfUr",attrs:{title:e.name},on:{click:function(s){return t.mov_article(e.id)}}},[s("span",{},[t._v(t._s(e.name))])]):t._e()}),0)])])]),t._v(" "),t._m(8,!0),t._v(" "),t._m(9,!0),t._v(" "),t._m(10,!0)])])]):t._e(),t._v(" "),s("span",{staticClass:"NariC"},[t._v(t._s(e.title))]),t._v(" "),e.content?s("span",{staticClass:"hLzJv"},[t._v(t._s(e.content.substr(0,20)))]):s("span",{staticClass:"hLzJv"}),t._v(" "),a===t.current_article?s("span",{staticClass:"_29C-V"},[t._v("字数:\n                  "),e.content?s("span",[t._v(t._s(e.content.length))]):s("span",[t._v("0")])]):t._e()])}),0),t._v(" "),s("div",{staticClass:"_2cVn3",on:{click:function(e){return t.add_article(!1)}}},[s("i",{staticClass:"fa fa-plus"}),s("span",[t._v(" 在下方新建文章")])])])])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editorTitle,expression:"editorTitle"}],staticClass:"_24i7u",attrs:{type:"text"},domProps:{value:t.editorTitle},on:{input:function(e){e.target.composing||(t.editorTitle=e.target.value)}}}),t._v(" "),s("div",{attrs:{id:"editor"}},[s("mavon-editor",{ref:"md",staticStyle:{height:"100%"},attrs:{ishljs:!0},on:{change:t.change_article,save:t.save_article,imgAdd:t.imgAdd,imgDel:t.imgDel},model:{value:t.editorContent,callback:function(e){t.editorContent=e},expression:"editorContent"}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.is_interval_window,expression:"is_interval_window"}],staticClass:"interval_box"},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{staticClass:"transition-box"},[s("div",{staticClass:"_2tIvb"},[s("div",{staticClass:"ZTNas",attrs:{"aria-label":"Close"},on:{click:function(e){t.is_interval_window=!1}}},[s("i",{staticClass:"fa fa-close"})]),t._v(" "),s("div",{staticClass:"_1KgC3"},[s("div",{staticClass:"-K8Re"},[t._v("定时发布")])]),t._v(" "),s("div",{staticClass:"_1LROK PWCkH"},[s("div",{staticClass:"wzwGh"},[t._v("选择定时发布的时间：")]),t._v(" "),s("div",{staticClass:"On4jq"},[s("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:t.pub_date,callback:function(e){t.pub_date=e},expression:"pub_date"}})],1),t._v(" "),s("div",{staticClass:"_3mEYS"},[t._v("本文章将于"),s("span",{staticClass:"yfqan"},[t._v(t._s(t.timeformat(t.pub_date)))]),t._v("发布。\n              ")])]),t._v(" "),s("div",{staticClass:"RzhZ5 pCffa"},[s("button",{staticClass:"_3zXcJ",attrs:{type:"button"},on:{click:function(e){t.is_interval_window=!1}}},[s("span",[t._v("取 消")])]),t._v(" "),s("button",{staticClass:"_3zXcJ _3QfkW",attrs:{type:"button"}},[s("span",{on:{click:t.int_article}},[t._v("确 认")])])])])])])],1)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{},[e("i",{staticClass:"fa fa-pencil-square-o _22XWG"}),this._v("修改文集")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{},[e("i",{staticClass:"fa fa-trash-o _22XWG"}),this._v("删除文集")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-5Am",attrs:{role:"button"}},[e("span",{staticClass:"ant-dropdown-trigger"},[e("i",{staticClass:"fa fa-bars"}),e("span",[this._v("设置")])]),this._v(" "),e("span",{staticClass:"Yv5Zx"},[this._v("遇到问题"),e("i",{staticClass:"fa fa-question-circle-o"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{},[e("i",{staticClass:"fa fa-share _22XWG"}),this._v("直接发布")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{},[e("i",{staticClass:"fa fa-share _22XWG"}),this._v("设置为隐私文章")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{},[e("i",{staticClass:"fa fa-clock-o _22XWG"}),this._v("定时发布")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"_2po2r cRfUr"},[e("span",{staticClass:"_20tIi"},[e("i",{staticClass:"iconfont ic-paid _22XWG"}),this._v("发布为付费文章")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"_2po2r cRfUr"},[e("span",{},[e("i",{staticClass:"iconfont ic-set _22XWG"}),this._v("设置发布样式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"_2po2r cRfUr",attrs:{title:""}},[e("span",{},[e("i",{staticClass:"fa fa-history _22XWG"}),this._v("历史版本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"_2po2r cRfUr",attrs:{title:""}},[e("span",{},[e("i",{staticClass:"fa fa-trash-o _22XWG"}),this._v("删除文章")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"_2po2r cRfUr",attrs:{title:""}},[e("span",{},[e("i",{staticClass:"fa fa-ban _22XWG"}),this._v("设置禁止转载")])])}]};var D=s("VU/8")(A,j,!1,function(t){s("VUY7")},"data-v-ae7d9fa2",null).exports,q={name:"PostArticle",data:function(){return{my_special_list:[],token:"",article_id:0,article_title:""}},created:function(){this.token=this.$settings.check_user_login(this),this.get_article(),this.get_my_special_list()},methods:{post_article:function(t,e){var s=this;this.$axios.post(this.$settings.Host+"/article/post/",{article_id:this.article_id,special_id:t},{headers:{Authorization:"jwt "+this.token}}).then(function(t){s.my_special_list[e].post_status=!0}).catch(function(t){s.$message.error("投稿失败！")})},get_article:function(){this.article_id=localStorage.article_id,console.log("this.article_id",this.article_id),this.article_title=localStorage.article_title},get_my_special_list:function(){var t=this;this.$axios.get(this.$settings.Host+"/article/special/",{params:{article_id:this.article_id},headers:{Authorization:"jwt "+this.token}}).then(function(e){t.my_special_list=e.data,console.log("this.my_special_list",t.my_special_list)}).catch(function(e){console.log(e.response),401===e.response.status?t.$router.push("/user/login"):t.$message.error("网络异常，无法获取专题列表！")})}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"writed"}},[s("div",{staticClass:"_3PLTX"},[s("div",{staticClass:"_2Mx1k"},[s("div",{staticClass:"_3CoyQ"},[s("router-link",{staticClass:"_2-ZiM",attrs:{to:"/article/"+t.article_id}},[t._v(t._s(t.article_title))]),t._v(" "),s("br"),t._v(" "),s("router-link",{staticClass:"_2ajaT",attrs:{to:"/article/"+t.article_id}},[t._v("发布成功，点击查看文章")])],1),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"_3Q2EW",on:{click:function(e){return t.$router.back()}}},[t._v("×")]),t._v(" "),s("div",{staticClass:"_1s967"}),t._v(" "),s("div",{staticClass:"_2w_E5"},[t._m(1),t._v(" "),s("div",[s("div",{staticClass:"_18jMg"},[t._m(2),t._v(" "),s("ul",{staticClass:"_1hEmG"},t._l(t.my_special_list,function(e,a){return s("li",{staticClass:"_3GDE6"},[e.post_status?s("a",[t._v("已收录")]):s("a",{on:{click:function(s){return t.post_article(e.id,a)}}},[t._v("收录")]),t._v(" "),s("img",{attrs:{src:e.image}}),t._v(" "),s("span",{staticClass:"_1CN24",attrs:{title:e.name}},[t._v(t._s(e.name))])])}),0)]),t._v(" "),t._m(3),t._v(" "),t._m(4)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"zelSB"},[e("li",{staticClass:"_35P4c"},[e("i",{staticClass:"fa fa-weibo"}),this._v("微博")]),this._v(" "),e("li",{staticClass:"_1c1Eo"},[e("i",{staticClass:"fa fa-wechat"}),this._v("微信")]),this._v(" "),e("li",{staticClass:"_1HWk1"},[e("i",{staticClass:"fa fa-link"}),this._v("复制链接")]),this._v(" "),e("li",{staticClass:"_3FrjS _3Qjz6 _2_WAp _2po2r cRfUr",attrs:{title:""}},[e("span",{},[this._v("更多分享")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"_23R_O"},[e("div",{staticClass:"_1WCUC"},[e("i",{staticClass:"fa fa-search fa-2x"}),e("input",{attrs:{type:"text",placeholder:"搜索专题"}})]),this._v(" "),e("div",{staticClass:"_3dZoJ"},[this._v("向专题投稿，让文章被更多人发现")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("我管理的专题"),e("a",{attrs:{href:""}},[this._v("新建")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_18jMg"},[s("h3",[t._v("最近投稿")]),t._v(" "),s("ul",{staticClass:"_1hEmG"},[s("li",{staticClass:"_3GDE6"},[s("a",{attrs:{"data-collection-id":"83","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")]),t._v(" "),s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/83/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24",attrs:{title:"摄影"}},[t._v("摄影")])]),t._v(" "),s("li",{staticClass:"_3GDE6"},[s("a",{attrs:{"data-collection-id":"83","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")]),t._v(" "),s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/83/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24",attrs:{title:"摄影"}},[t._v("摄影")])]),t._v(" "),s("li",{staticClass:"_3GDE6"},[s("a",{attrs:{"data-collection-id":"83","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")]),t._v(" "),s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/83/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24",attrs:{title:"摄影"}},[t._v("摄影")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_18jMg"},[s("h3",[t._v("推荐专题")]),t._v(" "),s("div",[s("ul",{staticClass:"_1hEmG"},[s("li",{staticClass:"_3GDE6"},[s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/83/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24"},[t._v("摄影"),s("em",[t._v("154.8K篇文章，2575.1K人关注")])]),t._v(" "),s("a",{attrs:{"data-collection-id":"83","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")])]),t._v(" "),s("li",{staticClass:"_3GDE6"},[s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/95/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24"},[t._v("故事"),s("em",[t._v("192.2K篇文章，1920.7K人关注")])]),t._v(" "),s("a",{attrs:{"data-collection-id":"95","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")])]),t._v(" "),s("li",{staticClass:"_3GDE6"},[s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/83/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24"},[t._v("摄影"),s("em",[t._v("154.8K篇文章，2575.1K人关注")])]),t._v(" "),s("a",{attrs:{"data-collection-id":"83","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")])]),t._v(" "),s("li",{staticClass:"_3GDE6"},[s("img",{attrs:{alt:"png",src:"https://upload.jianshu.io/collections/images/95/1.jpg"}}),t._v(" "),s("span",{staticClass:"_1CN24"},[t._v("故事"),s("em",[t._v("192.2K篇文章，1920.7K人关注")])]),t._v(" "),s("a",{attrs:{"data-collection-id":"95","data-post-text":"投稿","data-posting-text":"投稿中","data-posted-text":"等待审核"}},[t._v("投稿")])])]),t._v(" "),s("div",{staticClass:"_27pBl"},[t._v("没有更多了")])])])}]};var H=s("VU/8")(q,P,!1,function(t){s("0v1G")},"data-v-8cfb9574",null).exports,L={name:"Article",components:{Header:c,Footer:u},data:function(){return{token:"",article:{collection:{},user:{}},is_show_reward_window:!1,reward_list:[2,5,10,20,50,100],pay_type_list:["支付宝","余额支付"],reward_info:{money:2,content:"",pay_type:"支付宝"},focus_status:-2}},created:function(){this.article.id=this.$route.params.id,console.log("this.$route.params.id",this.$route.params.id),console.log("this.article.id",this.article.id),this.get_article()},methods:{payhandler:function(){var t=this;this.$message.info("正在打赏处理中。。。请稍后！～"),this.token||(this.token=this.$settings.check_user_login(this)),this.token&&"支付宝"===this.reward_info.pay_type&&this.$axios.post(this.$settings.Host+"/payments/alipay/",{money:this.reward_info.money,message:this.reward_info.content,article_id:this.article.id},{headers:{Authorization:"jwt "+this.token}}).then(function(e){t.get_reward_status(e.data.out_trade_no),open(e.data.url,"_blank")}).catch(function(e){t.$message.error("网络异常，无法进行打赏！")})},get_reward_status:function(t){var e=this;this.is_show_reward_window=!1;var s=setInterval(function(){e.$axios.get(e.$settings.Host+"/payments/alipay/result/",{params:{out_trade_no:t}}).then(function(t){t.data.status&&(e.$message.success("支付成功了！"),e.article.reward_count+=1,clearInterval(s))}).catch(function(t){e.$message.error("网络异常，无法查询打赏支付的结果!"),clearInterval(s)})},5e3)},get_article:function(){var t=this;this.$axios.get(this.$settings.Host+"/article/"+this.article.id+"/retrieve/").then(function(e){t.article=e.data,t.get_focus_status()}).catch(function(e){t.$message.error("网络异常，获取文章信息失败！")})},get_focus_status:function(){var t=this;this.token||(this.token=this.$settings.check_user_login(this)),!1!==this.token&&this.$axios.get(this.$settings.Host+"/article/focus/",{params:{author_id:this.article.user.id},headers:{Authorization:"jwt "+this.token}}).then(function(e){t.focus_status=e.data.status,setTimeout(t.add_read_log,5e3)}).catch(function(e){t.$message.error(e.response.data.detail)})},focus_author:function(t){var e=this;this.token||(this.token=this.$settings.check_user_login(this)),!1!==this.token&&(-2!==t?this.$axios.put(this.$settings.Host+"/article/focus/",{author_id:this.article.user.id,status:t},{headers:{Authorization:"jwt "+this.token}}).then(function(t){e.focus_status=t.data.status,e.$message.success(t.data.detail)}).catch(function(t){e.$message.error(t.response.data.detail)}):this.$confirm("您尚未登录，无法完成操作，是否登录继续？","提示",{confirmButtonText:"登录",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push("/user/login")}).catch(function(){}))},add_read_log:function(){this.$axios.get(this.$settings.Host+"/article/log/"+this.article.id+"/read/",{headers:{Authorization:"jwt "+this.token}})},format:function(t){var e=(t=new Date(t)).getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var a=t.getDate();a=a<10?"0"+a:a;var i=t.getHours();i=i<10?"0"+i:i;var n=t.getMinutes();n=n<10?"0"+n:n;var r=t.getSeconds();return e+"-"+s+"-"+a+" "+i+":"+n+":"+(r=r<10?"0"+r:r)}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_21bLU4 _3kbg6I"},[s("Header"),t._v(" "),s("div",{staticClass:"_3VRLsv",attrs:{role:"main"}},[s("div",{staticClass:"_gp-ck"},[s("section",{staticClass:"ouvJEz"},[s("h1",{staticClass:"_1RuRku"},[t._v(t._s(t.article.title))]),t._v(" "),s("div",{staticClass:"rEsl9f"},[s("div",{staticClass:"_2mYfmT"},[s("router-link",{staticClass:"_1OhGeD",attrs:{to:"/user",target:"_blank",rel:"noopener noreferrer"}},[s("img",{staticClass:"_13D2Eh",attrs:{src:t.article.user.avatar,alt:""}})]),t._v(" "),s("div",{staticStyle:{"margin-left":"8px"}},[s("div",{staticClass:"_3U4Smb"},[s("span",{staticClass:"FxYr8x"},[s("router-link",{staticClass:"_1OhGeD",attrs:{to:"/user"}},[t._v(t._s(t.article.user.nickname?t.article.user.nickname:t.article.user.username))])],1),t._v(" "),1===t.focus_status?s("button",{staticClass:"_3kba3h _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("已关注")])]):t._e(),t._v(" "),0===t.focus_status?s("button",{staticClass:"_3kba3h _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e(),t._v(" "),-2===t.focus_status?s("button",{staticClass:"_3kba3h _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e()]),t._v(" "),s("div",{staticClass:"s-dsoj"},[s("time",{attrs:{datetime:t.format(t.article.created_time)}},[t._v(t._s(t.format(t.article.created_time)))]),t._v(" "),s("span",[t._v("字数 "+t._s(null==t.article.html_content?0:t.article.html_content.length))]),t._v(" "),s("span",[t._v("阅读 "+t._s(t.article.read_count))])])])],1)]),t._v(" "),s("article",{staticClass:"_2rhmJa"},[s("div",{domProps:{innerHTML:t._s(t.article.html_content)}})]),t._v(" "),s("div"),t._v(" "),s("div",{staticClass:"_1kCBjS"},[s("div",{staticClass:"_18vaTa"},[s("div",{staticClass:"_3BUZPB"},[s("div",{staticClass:"_2Bo4Th",attrs:{role:"button",tabindex:"-1","aria-label":"给文章点赞"}},[s("i",{staticClass:"anticon",attrs:{"aria-label":"ic-like"}},[s("svg",{attrs:{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("use",{attrs:{"xlink:href":"#ic-like"}})])])]),t._v(" "),s("span",{staticClass:"_1LOh_5",attrs:{role:"button",tabindex:"-1","aria-label":"查看点赞列表"}},[t._v("8人点赞"),s("i",{staticClass:"anticon anticon-right",attrs:{"aria-label":"icon: right"}},[s("svg",{attrs:{viewbox:"64 64 896 896",focusable:"false","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"}})])])])]),t._v(" "),s("div",{staticClass:"_3BUZPB"},[s("div",{staticClass:"_2Bo4Th",attrs:{role:"button",tabindex:"-1"}},[s("i",{staticClass:"anticon",attrs:{"aria-label":"ic-dislike"}},[s("svg",{attrs:{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("use",{attrs:{"xlink:href":"#ic-dislike"}})])])])])]),t._v(" "),s("div",{staticClass:"_18vaTa"},[s("a",{staticClass:"_3BUZPB _1x1ok9 _1OhGeD",attrs:{href:"/nb/38290018",target:"_blank",rel:"noopener noreferrer"}},[s("i",{staticClass:"anticon",attrs:{"aria-label":"ic-notebook"}},[s("svg",{attrs:{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("use",{attrs:{"xlink:href":"#ic-notebook"}})])]),s("span",[t._v(t._s(t.article.collection.name))])]),t._v(" "),s("div",{staticClass:"_3BUZPB ant-dropdown-trigger"},[s("div",{staticClass:"_2Bo4Th"},[s("i",{staticClass:"anticon",attrs:{"aria-label":"ic-others"}},[s("svg",{attrs:{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("use",{attrs:{"xlink:href":"#ic-others"}})])])])])])]),t._v(" "),s("div",{staticClass:"_19DgIp",staticStyle:{"margin-top":"24px","margin-bottom":"24px"}}),t._v(" "),s("div",{staticClass:"_13lIbp"},[s("div",{staticClass:"_191KSt"},[t._v('\n            "小礼物走一走，来简书关注我"\n          ')]),t._v(" "),s("button",{staticClass:"_1OyPqC _3Mi9q9 _2WY0RL _1YbC5u",attrs:{type:"button"},on:{click:function(e){t.is_show_reward_window=!0}}},[s("span",[t._v("赞赏支持")])]),t._v(" "),0===t.article.reward_count?s("span",{staticClass:"_3zdmIj"},[t._v("还没有人赞赏，支持一下")]):s("span",{staticClass:"_3zdmIj"},[t._v("共"+t._s(t.article.reward_count)+"人赞赏了作者")])]),t._v(" "),s("div",{staticClass:"d0hShY"},[t._m(0),t._v(" "),s("div",{staticClass:"Uz-vZq"},[s("div",{staticClass:"Cqpr1X"},[s("a",{staticClass:"HC3FFO _1OhGeD",attrs:{href:"/u/a70487cda447",title:"書酱",target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.article.user.nickname?t.article.user.nickname:t.article.user.username))]),t._v(" "),s("span",{staticClass:"_2WEj6j",attrs:{title:"你读书的样子真好看。"}},[t._v("你读书的样子真好看。")])]),t._v(" "),t._m(1)]),t._v(" "),1===t.focus_status?s("button",{staticClass:"_1OyPqC _3Mi9q9",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("已关注")])]):t._e(),t._v(" "),0===t.focus_status?s("button",{staticClass:"_1OyPqC _3Mi9q9",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e(),t._v(" "),-2===t.focus_status?s("button",{staticClass:"_1OyPqC _3Mi9q9",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e()])]),t._v(" "),t._m(2)]),t._v(" "),s("aside",{staticClass:"_2OwGUo"},[s("section",{staticClass:"_3Z3nHf"},[s("div",{staticClass:"_3Oo-T1"},[t._m(3),t._v(" "),s("div",{staticClass:"_32ZTTG"},[s("div",{staticClass:"_2O0T_w"},[s("div",{staticClass:"_2v-h3G"},[s("span",{staticClass:"_2vh4fr",attrs:{title:"書酱"}},[s("a",{staticClass:"_1OhGeD",attrs:{href:"/u/a70487cda447",target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.article.user.nickname?t.article.user.nickname:t.article.user.username))])])]),t._v(" "),1===t.focus_status?s("button",{staticClass:"tzrf9N _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("已关注")])]):t._e(),t._v(" "),0===t.focus_status?s("button",{staticClass:"tzrf9N _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e(),t._v(" "),-2===t.focus_status?s("button",{staticClass:"tzrf9N _1OyPqC _3Mi9q9 _34692-",attrs:{"data-locale":"zh-CN",type:"button"},on:{click:function(e){return t.focus_author(t.focus_status)}}},[s("span",[t._v("关注")])]):t._e()]),t._v(" "),s("div",{staticClass:"_1pXc22"},[t._v("\n              总资产0\n            ")])])]),t._v(" "),s("div",{staticClass:"_19DgIp"})]),t._v(" "),t._m(4)])]),t._v(" "),t.is_show_reward_window?s("div",{staticClass:"_23ISFX-body",on:{click:function(e){e.stopPropagation(),t.is_show_reward_window=!0}}},[s("div",{staticClass:"_3uZ5OL"},[s("div",{staticClass:"_2PLkjk"},[s("img",{staticClass:"_2R1-48",attrs:{src:t.article.user.avatar,alt:""}}),t._v(" "),s("div",{staticClass:"_2h5tnQ"},[t._v("\n          给作者送糖\n        ")])]),t._v(" "),s("div",{staticClass:"_1-bCJJ"},t._l(t.reward_list,function(e){return s("div",{staticClass:"LMa6S_",class:t.reward_info.money===e?"_1vONvL":"",on:{click:function(s){t.reward_info.money=e}}},[s("span",[t._v(t._s(e)+"元")])])}),0),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reward_info.content,expression:"reward_info.content"}],staticClass:"_1yN79W",attrs:{placeholder:"给Ta留言..."},domProps:{value:t.reward_info.content},on:{input:function(e){e.target.composing||t.$set(t.reward_info,"content",e.target.value)}}}),t._v(" "),s("div",{staticClass:"_1_B577"},[t._v("选择支付方式")]),t._v(" "),s("div",{staticClass:"_1-bCJJ"},t._l(t.pay_type_list,function(e){return s("div",{staticClass:"LMa6S_ _3PA8BN",class:t.reward_info.pay_type===e?"_1vONvL":"",on:{click:function(s){t.reward_info.pay_type=e}}},[s("span",[t._v(t._s(e))])])}),0),t._v(" "),s("button",{staticClass:"_3A-4KL _1OyPqC _3Mi9q9 _1YbC5u",attrs:{type:"button"},on:{click:t.payhandler}},[s("span",[t._v("确认支付")]),s("span",[t._v(" ￥")]),t._v(t._s(t.reward_info.money)+"\n      ")])])]):t._e(),t._v(" "),s("Footer")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"_1OhGeD",attrs:{href:"/u/a70487cda447",target:"_blank",rel:"noopener noreferrer"}},[e("img",{staticClass:"_27NmgV",attrs:{src:"https://upload.jianshu.io/users/upload_avatars/18529254/.png?imageMogr2/auto-orient/strip|imageView2/1/w/100/h/100/format/webp",alt:"  "}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lJvI3S"},[e("span",[this._v("总资产0")]),this._v(" "),e("span",[this._v("共写了78.7W字")]),this._v(" "),e("span",[this._v("获得6,072个赞")]),this._v(" "),e("span",[this._v("共1,308个粉丝")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"note-page-comment"}},[e("div",{staticClass:"lazyload-placeholder"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"_1OhGeD",attrs:{href:"/u/a70487cda447",target:"_blank",rel:"noopener noreferrer"}},[e("img",{staticClass:"_3T9iJQ",attrs:{src:"https://upload.jianshu.io/users/upload_avatars/18529254/.png?imageMogr2/auto-orient/strip|imageView2/1/w/90/h/90/format/webp",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{},[s("section",{staticClass:"_3Z3nHf"},[s("h3",{staticClass:"QHRnq8 QxT4hD"},[s("span",[t._v("推荐阅读")])]),t._v(" "),s("div",{staticClass:"cuOxAY",attrs:{role:"listitem"}},[s("div",{staticClass:"_3L5YSq",attrs:{title:"这些话没人告诉你，但必须知道的社会规则"}},[s("a",{staticClass:"_1-HJSV _1OhGeD",attrs:{href:"/p/a3e56a0559ff",target:"_blank",rel:"noopener noreferrer"}},[t._v("这些话没人告诉你，但必须知道的社会规则")])]),t._v(" "),s("div",{staticClass:"_19haGh"},[t._v("\n                阅读 5,837\n              ")])]),t._v(" "),s("div",{staticClass:"cuOxAY",attrs:{role:"listitem"}},[s("div",{staticClass:"_3L5YSq",attrs:{title:"浙大学霸最美笔记曝光：真正的牛人，都“变态”到了极致"}},[s("a",{staticClass:"_1-HJSV _1OhGeD",attrs:{href:"/p/d2a3724e2839",target:"_blank",rel:"noopener noreferrer"}},[t._v("浙大学霸最美笔记曝光：真正的牛人，都“变态”到了极致")])]),t._v(" "),s("div",{staticClass:"_19haGh"},[t._v("\n                阅读 12,447\n              ")])]),t._v(" "),s("div",{staticClass:"cuOxAY",attrs:{role:"listitem"}},[s("div",{staticClass:"_3L5YSq",attrs:{title:"征服一个女人最好的方式：不是讨好她，而是懂得去折腾她"}},[s("a",{staticClass:"_1-HJSV _1OhGeD",attrs:{href:"/p/f6acf67f039b",target:"_blank",rel:"noopener noreferrer"}},[t._v("征服一个女人最好的方式：不是讨好她，而是懂得去折腾她")])]),t._v(" "),s("div",{staticClass:"_19haGh"},[t._v("\n                阅读 5,311\n              ")])]),t._v(" "),s("div",{staticClass:"cuOxAY",attrs:{role:"listitem"}},[s("div",{staticClass:"_3L5YSq",attrs:{title:"告别平庸的15个小方法"}},[s("a",{staticClass:"_1-HJSV _1OhGeD",attrs:{href:"/p/cff7eb6b232b",target:"_blank",rel:"noopener noreferrer"}},[t._v("告别平庸的15个小方法")])]),t._v(" "),s("div",{staticClass:"_19haGh"},[t._v("\n                阅读 7,040\n              ")])]),t._v(" "),s("div",{staticClass:"cuOxAY",attrs:{role:"listitem"}},[s("div",{staticClass:"_3L5YSq",attrs:{title:"轻微抑郁的人，会说这3句“口头禅”，若你一个不占，偷着乐吧"}},[s("a",{staticClass:"_1-HJSV _1OhGeD",attrs:{href:"/p/2a0ca1729b4b",target:"_blank",rel:"noopener noreferrer"}},[t._v("轻微抑郁的人，会说这3句“口头禅”，若你一个不占，偷着乐吧")])]),t._v(" "),s("div",{staticClass:"_19haGh"},[t._v("\n                阅读 16,411\n              ")])])])])])}]};var M=s("VU/8")(L,N,!1,function(t){s("wXD6")},"data-v-dbfb8800",null).exports,I={name:"Alipay",data:function(){return{loading:""}},mounted:function(){this.loading=this.$loading({lock:!0,text:"支付结果处理，请不要关闭当前页面.",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.alipay_result()},methods:{alipay_result:function(){var t=this;this.$axios.get(this.$settings.Host+"/payments/alipay/result/"+location.search).then(function(e){t.loading.close(),t.$router.push("/article/"+e.data.article_id)}).catch(function(e){t.$message.error(response.data.detail)})}}},U={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var F=s("VU/8")(I,U,!1,function(t){s("BVLH")},"data-v-4bb42350",null).exports,J=s("gDR0");a.default.use(r.a);var B=new r.a({mode:"history",routes:[{meta:{title:"荏苒项目-首页",keepAlive:!0},path:"/",name:"Home",component:p},{name:"Home",path:"/home",component:p},{meta:{title:"荏苒项目-个人中心",keepAlive:!0},name:"Info",path:"/users",component:J.default},{meta:{title:"荏苒项目-登录页面",keepAlive:!0},name:"Login",path:"/user/login",component:v},{meta:{title:"荏苒项目-注册页面",keepAlive:!0},name:"Register",path:"/user/register",component:C},{meta:{title:"荏苒项目-找回密码页面",keepAlive:!0},path:"/find_password",name:"FindPassword",component:y},{meta:{title:"荏苒项目-重置密码页面",keepAlive:!0},path:"/reset_password",name:"ResetPassword",component:$},{meta:{title:"荏苒项目-QQ登录的回调页面",keepAlive:!0},path:"/oauth_callback.html",name:"QQCallBack",component:R},{meta:{title:"荏苒项目-写文章页面",keepAlive:!0},name:"Writer",path:"/writer",component:D},{path:"/post",name:"PostArticle",component:H},{name:"Article",path:"/article/:id",component:M},{path:"/payments/alipay",name:"Alipay",component:F}]}),z={Host:"http://api.renran.fuguang.top",TC_captcha:{app_id:"2060272005"},check_user_login:function(t){var e=localStorage.user_token||sessionStorage.user_token;if(e)return t.is_show_page=!0,e;t.$confirm("您尚未登录,是否登录后继续操作","荏苒提示",{confirmButtonText:"去登录",cancelButtonText:"回首页",type:"info"}).then(function(){t.$router.push("/user/login")}).catch(function(){t.$router.push("/")})}},G=s("zL8q"),Q=s.n(G),W=(s("tvR6"),s("EWIa"),s("XlLT"),s("KFh0"),s("mtWM")),V=s.n(W);a.default.use(T.a),a.default.config.productionTip=!1,a.default.prototype.$settings=z,a.default.use(Q.a),V.a.defaults.withCredentials=!1,a.default.prototype.$axios=V.a,B.beforeEach(function(t,e,s){t.meta.title&&(document.title=t.meta.title),s()}),new a.default({el:"#app",router:B,components:{App:n},template:"<App/>"})},POlL:function(t,e){},RYP2:function(t,e){},TTdp:function(module,exports){!function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{__esModule:void 0}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=14)}([,function(t,e,s){"use strict";var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},c=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,s=a.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&a.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!n)return!1;for(e in t);return void 0===e||a.call(t,e)},l=function(t,e){n&&"__proto__"===e.name?n(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!a.call(t,e))return;if(r)return r(t,e).value}return t[e]};t.exports=function t(){var e,s,a,i,n,r,_=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"==typeof _&&(h=_,_=arguments[1]||{},d=2),(null==_||"object"!=typeof _&&"function"!=typeof _)&&(_={});d<p;++d)if(null!=(e=arguments[d]))for(s in e)a=u(_,s),_!==(i=u(e,s))&&(h&&i&&(c(i)||(n=o(i)))?(n?(n=!1,r=a&&o(a)?a:[]):r=a&&c(a)?a:{},l(_,{name:s,newValue:t(h,r,i)})):void 0!==i&&l(_,{name:s,newValue:i}));return _}},function(t,e,s){"use strict";e.__esModule=!0,e.addUrlParam=e.getQueryParam=e.getQueryMap=e.getQuery=e.getHref=void 0,e.getHref=function(){try{return location.href}catch(t){try{return document.URL}catch(t){}}return""},e.getQuery=function(t){var e=t?1:0;try{return location.search.substr(e)}catch(t){try{var s=document.URL,a=s.indexOf("?");if(a>=0)return s.substr(a+e)}catch(t){}}return""},e.getQueryMap=function(){for(var t={},s=e.getQuery(!0).split("&"),a=0;a<s.length;a++){var i=/(.*?)=(.*)/.exec(s[a]);i&&(t[i[1]]=i[2])}return t},e.getQueryParam=function(t){return e.getQueryMap()[t]};var a=function(t,e,s){if(-1!=t.indexOf("?")){var a=new RegExp("(\\?|&"+e+")=[^&]*");t=a.test(t)?t.replace(a,"$1="+s):t+"&"+e+"="+s}else t=t+"?"+e+"="+s;return t};e.addUrlParam=function(t,e){var s;for(s in e)void 0!==e[s]&&(t=a(t,encodeURIComponent(s),encodeURIComponent(""+e[s])));return t}},function(t,e,s){"use strict";function a(){return Math.floor(1e8*Math.random())}var i=function(t){t=t?1:0;try{return c(location.search.substr(t))}catch(a){try{var e=document.URL,s=e.indexOf("?");if(s>=0)return c(e.substr(s+t))}catch(t){}}return""},n={};!function(){for(var t=i(!0).split("&"),e=0;e<t.length;e++){var s=/(.*?)=(.*)/.exec(t[e]);s&&(n[s[1]]=s[2])}}();var r=n.sess;function o(t){n.sess=t}function c(t){try{return n?t.replace(r,n.sess):t}catch(e){return t}}window.captchaConfig&&window.captchaConfig.sess&&o(window.captchaConfig.sess),t.exports={href:function(){try{return location.href}catch(t){try{return document.URL}catch(t){}}return""},getQuery:function(t){var e=i();return e=e?e.replace(/&rand=[^&]+/,"")+"&rand="+a():"?rand="+a(),t=t?1:0,e.substr(t)},queryParam:function(t){return n[t]},queryMap:function(){return $.extend({},n)},parse2rgb:function(t){if(!t||"string"!=typeof t)return null;t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,s,a){return e+e+s+s+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),s:"#"+e[1]+e[2]+e[3]}:null},arrIndexOf:function(t,e){if("function"==typeof t.indexOf)return t.indexOf(e);for(var s=0;s<t.length;s++)if(t[s]===e)return s;return-1},updateSession:o,isLowIE:function(){var t=navigator.userAgent.toLowerCase(),e=t.indexOf("msie")>-1,s=void 0,a=void 0;if(e){if(s=t.match(/msie ([\d.]+)/)[1],a=e&&document.documentMode,s&&s<=8)return!0;if(a&&a<9)return!0}return!1}}},function(t,e,s){"use strict";function a(t,s,a){return"terror_"+e.ErrorCode[t]+"_"+s+"_"+Math.floor((new Date).getTime()/1e3)+(a?"_"+a:"")}function i(){return"@"+Math.random().toString(36).substr(2)}e.__esModule=!0,e.getRandStr=e.getErrorRes=e.getErrorTicket=e.ErrorCode=void 0,e.ErrorCode={ENTRYJS_LOAD_ERROR:1001,CAPTCHA_SHOW_TIMEOUT:1002,FRAMEJS_LOAD_TIMEOUT:1003,FRAMEJS_LOAD_ERROR:1004,FRAMEJS_RUN_ERROR:1005,GET_CAPTCHA_CONFIG_REQUEST_ERROR:1006,PRE_TEMPLATE_LOAD_TIMEOUT:1007,IFRAME_LOAD_TIMEOUT:1008,LIB_JQ_LOAD_ERROR:1009,CAPTCHA_JS_LOAD_ERROR:1010,CAPTCHA_JS_RUN_ERROR:1011,REFRESH_ERROR:1012,VERIFY_ERROR:1013},e.getErrorTicket=a,e.getErrorRes=function(t,s,n){return{ret:0,randstr:i(),ticket:a(t,s||"",n),errorCode:e.ErrorCode[t],errorMessage:t.toLowerCase()}},e.getRandStr=i},function(t,e,s){"use strict";var a=function(){var t=1,e=/subsid=(\d+)/.exec(location.href);e&&(t=parseInt(e[1],10)+1);var s=function(e,s){var a=s||t;return e=/subsid=\d+/.test(e)?e.replace(/subsid=\d+/g,"subsid="+a):e+"&subsid="+a,s||t++,e};return s.get=function(){return t},s.bind=function(){var e=t++;return function(t){return s(t,e)}},s}();t.exports=a},function(t,e,s){"use strict";e.__esModule=!0,e.getScriptUrl=e.getScript=void 0,e.getScript=function t(e,s){var a=3,i=e.src,n=e.successCheck,r=e.success,o=e.error,c=e.crossOrigin,l=Boolean(e.inHead)?document.getElementsByTagName("head").item(0):document.getElementsByTagName("body").item(0),u=!1,_=document.createElement("script");function d(t){if(!u){var e=!1;t&&"type"in t&&(e="load"===t.type),"readyState"in this&&/^(loaded|complete)$/.test(this.readyState)&&(e=!0),e&&(!n||n()?(h(),u=!0,null===r||void 0===r||r()):p())}}function p(){u||(h(),u=!0,(s=s||1)>=a?null===o||void 0===o||o():t({src:i,successCheck:n,success:r,error:o},s+1))}function h(){try{l&&_&&l.removeChild(_)}catch(t){}}_.type="text/javascript",_.async=!0,_.src=i,c&&_.setAttribute("crossorigin",c),"onload"in _?_.onload=d:_.onreadystatechange=d,_.onerror=p,null===l||void 0===l||l.appendChild(_)},e.getScriptUrl=function(){try{throw new Error("domain")}catch(s){var t=null===s||void 0===s?void 0:s.stack;if(!t)return;var e=(""+t).match(/(https?:\/\/.*\.js)/);return{url:null===e||void 0===e?void 0:e[1],stack:t}}}},,,function(t,e,s){"use strict";t.exports={add:function(t,e,s){t&&(t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent?t.attachEvent("on"+e,s):t["on"+e]=s)},remove:function(t,e,s){t&&(t.removeEventListener?t.removeEventListener(e,s,!1):t.detachEvent?t.detachEvent("on"+e,s):t["on"+e]=null)}}},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var s,a,i,n,r,o=gap,c=e[t];switch(c&&"object"===(void 0===c?"undefined":_typeof(c))&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),void 0===c?"undefined":_typeof(c)){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(c)){for(n=c.length,s=0;s<n;s+=1)r[s]=str(s,c)||"null";return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,i}if(rep&&"object"===(void 0===rep?"undefined":_typeof(rep)))for(n=rep.length,s=0;s<n;s+=1)"string"==typeof rep[s]&&(i=str(a=rep[s],c))&&r.push(quote(a)+(gap?": ":":")+i);else for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(i=str(a,c))&&r.push(quote(a)+(gap?": ":":")+i);return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,s){var a;if(gap="",indent="","number"==typeof s)for(a=0;a<s;a+=1)indent+=" ";else"string"==typeof s&&(indent=s);if(rep=e,e&&"function"!=typeof e&&("object"!==(void 0===e?"undefined":_typeof(e))||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var s,a,i=t[e];if(i&&"object"===(void 0===i?"undefined":_typeof(i)))for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(void 0!==(a=walk(i,s))?i[s]=a:delete i[s]);return reviver.call(t,e,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e,s){"use strict";var a,i,n=s(5),r={ERROR_TYPE_FRAMEJS_DOWNLOAD_FAIL:16,ERROR_TYPE_JSONP_PREHANDLE:17,ERROR_TYPE_FRAMEJS_CODE_ERROR:18,CALLBACK_NAME:19,IFRAME_CREATE_ERROR:25,IFRAME_POPUP_CREATE_ERROR:26,IFRAME_FULL_CREATE_ERROR:27,OTHER_DOMAIN_MONITOR:38,FRAME_JS_LOAD_TIMEOUT:40},o={ERROR_TYPE_FRAMEJS_DOWNLOAD_FAIL:"ERROR_TYPE_FRAMEJS_DOWNLOAD_FAIL",ERROR_TYPE_JSONP_PREHANDLE:"ERROR_TYPE_JSONP_PREHANDLE",ERROR_TYPE_FRAMEJS_CODE_ERROR:"ERROR_TYPE_FRAMEJS_CODE_ERROR",CALLBACK_NAME:"CALLBACK_NAME"},c=(a=document.referrer,i=location.href||document.URL,a=a.length>512?a.substr(0,512):a,i=i.length>1024?i.substr(0,1024):i,["referer="+encodeURIComponent(a),"href="+encodeURIComponent(i)].join("&"));t.exports={type:r,send:function(t,e,s){try{(s=s||o[t]).length>1024&&s.substr(0,1024);var a=["type="+(t=r[t]),"appid="+e,"reason="+encodeURIComponent(s)],i="https://sv.aq.qq.com/cn2/manage/mbtoken/cap_monitor?"+c+"&"+a.join("&");(new Image).src=n(i)}catch(t){}},perfectStack:function(t){var e="";t&&t.stack&&(e=t.stack.replace(/\n/gi,"").split(/\bat\b/).join("\n").replace(/\?[^:]+/gi,""));try{var s=t.toString();e.indexOf(s)<0&&(e=s+"@"+e)}catch(t){}return e}}},,,function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if(!0===window.__TencentCaptchaExists__)throw new Error("请勿多次引用腾讯验证码的接入js");window.__TencentCaptchaExists__=!0;var _require=__webpack_require__(4),getErrorRes=_require.getErrorRes,Executor=__webpack_require__(15),_require2=__webpack_require__(6),getScriptUrl=_require2.getScriptUrl,_require3=__webpack_require__(2),getHref=_require3.getHref;__webpack_require__(10);var domReady=__webpack_require__(16),btoa=window.btoa||__webpack_require__(17),extend=Object.assign||__webpack_require__(1),loadFrameJs=__webpack_require__(18),eventListener=__webpack_require__(9),isIEVar=__webpack_require__(19),isElement=__webpack_require__(20),getScriptDomain=__webpack_require__(21),scriptDomain=getScriptDomain()||"",isWechatDevtools=navigator.userAgent&&/wechatdevtools/.test(navigator.userAgent),isWindows=/windows/i.test(navigator.userAgent),isMobile=!isWindows&&("ontouchstart"in window||"ontouchstart"in document.createElement("div")||isWechatDevtools),capDomain="https://t.captcha.qq.com";capDomain||(capDomain=scriptDomain),window.AqSCodeCapDomain=capDomain;var cdnDomain="https://captcha.gtimg.com/1",grayscaleFrameJs="/tcaptcha-frame.85d7a77d.js",capError=__webpack_require__(11),capObj=void 0,initQueueCount=0,initQueue=[],loadErrorTimeout=!1,defaultOpt={type:"popup",pos:isIEVar(6)?"absolute":"fixed",lang:2052,showHeader:isMobile,needFeedBack:!0,themeColor:"",tcaptchaFlag:!0,gettype:"cap_union_prehandle",domain:capDomain,htdoc_path:capDomain},noop=function(){},callbackWrap=function(t,e){return function(s){"object"===(void 0===s?"undefined":_typeof(s))&&(s=extend({bizState:t.options.bizState,appid:t.options.appid},s)),e&&e(s)}},executor=new Executor(function(){if(initQueue.length>0){for(var t=0;t<initQueue.length;t++)initQueue[t].instance.show();initQueue.length=0}},0),Captcha=function Captcha($btn,appid,_tcallback_,opts){var bizState=void 0;if(isElement($btn))if(appid&&"object"===(void 0===appid?"undefined":_typeof(appid)))opts=appid,appid=null,_tcallback_=null;else{if(appid=appid||$btn.getAttribute("data-appid"),!_tcallback_){var callbackName=$btn.getAttribute("data-cbfn");try{_tcallback_=eval("window."+callbackName)}catch(t){throw new Error("Lost `callback`")}}bizState=$btn.getAttribute("data-biz-state")}else{if("string"!=typeof $btn||"function"!=typeof appid)throw new Error("Arguments error.");opts=_tcallback_,_tcallback_=appid,appid=$btn,$btn=null}opts=opts||{},opts.callback=_tcallback_||opts.callback,opts.start=opts.start||noop,opts.end=opts.end||noop;var readyCallback="function"==typeof opts.ready?opts.ready:noop;if(opts.ready=function(t){readyCallback.call(this,t)},opts.appid=appid||opts.appid,opts.bizState=bizState||opts.bizState,opts.fwidth=parseFloat(opts.fwidth)||0,opts.sdkOpts=opts.sdkOpts||null,opts.ele=$btn,this.options=opts,"function"!=typeof opts.callback)throw new Error("Lost `callback`");if(this.initOpts=extend({},defaultOpt,opts),this.langFun(),$btn){var that=this;eventListener.add($btn,"click",function(){that.show()})}this.checkInOwnDomain(appid)},showTimeout=null;Captcha.prototype={show:function(){var t=this;if(executor.isDone)this.__show__(),null!==showTimeout&&(clearTimeout(showTimeout),showTimeout=null);else{for(var e=0;e<initQueue.length;e++)if(initQueue[e].instance===this)return;var s=initQueueCount+=1;initQueue.push({instance:this,index:s}),null===showTimeout&&(showTimeout=setTimeout(function(){showTimeout=null;for(var e=0;e<initQueue.length;e++)if(initQueue[e].index===s)return initQueue.splice(e,1),t.initOpts.callback(getErrorRes("CAPTCHA_SHOW_TIMEOUT",t.initOpts.appid))},1e4))}},__show__:function(){var t=this.initOpts;if(void 0===window.AqSCode)return loadErrorTimeout?(capError.send("FRAME_JS_LOAD_TIMEOUT","",grayscaleFrameJs),t.callback(getErrorRes("FRAMEJS_LOAD_TIMEOUT",t.appid))):(capError.send("ERROR_TYPE_FRAMEJS_DOWNLOAD_FAIL","",grayscaleFrameJs),t.callback(getErrorRes("FRAMEJS_LOAD_ERROR",t.appid)));this.destroy();var e=[];e.push("aid="+t.appid),e.push("protocol=https"),e.push("accver=1"),e.push("showtype="+t.type),e.push("ua="+encodeURIComponent(btoa((navigator.userAgent||"").replace(/[\u00ff-\uffff]+/g,"")))),e.push("noheader="+(""+t.showHeader=="false"?"1":"0")),e.push("fb="+(""+t.needFeedBack=="false"?"0":"1"));var s=t.enableDarkMode;"force"!==s&&(s=s?"1":"0");var a=t.enableAged;e.push("aged="+("force"===a?"1":"0")),e.push("enableAged="+(a?"1":"0")),e.push("enableDarkMode="+s),t.sid&&e.push("sid="+t.sid),t.uid=""+(t.uin||""),e.push("grayscale=1"),t.grayscale=1,isMobile&&"point"!==t.type?(e.push("clientype=1"),t.clientype=1,t.forceLang&&e.push("lang="+t.forceLang),t.params="?"+e.join("&")):(e.push("clientype=2"),t.clientype=2,t.forceLang&&e.push("lang="+t.forceLang),t.params="?"+e.join("&"),t.s_type_suffix="?"+e.join("&"),t.src=capDomain+"/template/placeholder_v2.html"+t.s_type_suffix,t.s_type=capDomain+"/cap_union_prehandle"+t.s_type_suffix,t.slide_src=capDomain+"/template/new_slide_placeholder.html"+t.s_type_suffix),t.fb=""+t.needFeedBack=="false"?"0":"1",t.frameJs=grayscaleFrameJs;try{(capObj=new AqSCode(t)).listen(callbackWrap(this,t.callback),callbackWrap(this,t.ready)),(t.top||t.left)&&capObj.initPos({top:t.top||void 0,left:t.left||void 0}),capObj.create()}catch(e){capError.send("ERROR_TYPE_FRAMEJS_CODE_ERROR",t.appid,"entry create err: "+e.message)}},langFun:function(){if(this.initOpts.forceLang){var t={"zh-cn":"2052","zh-hk":"1028",en:"1033"},e=this.initOpts.forceLang;t[e]?(this.initOpts.lang=t[e],this.initOpts.forceLang=t[e],this.initOpts.forcestyle=1):this.initOpts.forceLang=""}},destroy:function(){capObj&&capObj.destroy&&capObj.destroy()},refresh:function(){capObj&&capObj.refresh&&capObj.refresh()},getTicket:function(){if(capObj&&capObj.getTicket){var t=null;return callbackWrap(this,function(e){t=e})(capObj.getTicket()),t}return null},checkInOwnDomain:function(t){try{var e=[/captcha\.qq\.com/,/\.captcha\.qcloud\.com/,/captcha\.myqcloud\.com/,/captcha\.253\.com/,/t-captcha\.gjacky\.com/],s=getScriptUrl();if(!s)return;for(var a=s.stack,i=!1,n=0;n<e.length;n++){var r=e[n];if(a.match(r)){i=!0;break}}i||capError.send("OTHER_DOMAIN_MONITOR",t,getHref()+" "+a)}catch(t){}}};var autoBindBtn=function(){var t=document.getElementById("TencentCaptcha");t&&new Captcha(t)},domReadyCb=function(){try{autoBindBtn()}catch(t){}};executor.exec(function(t){var e=!1;domReady(function(){e||(e=!0,domReadyCb(),t())})}),executor.exec(function(t){loadFrameJs(grayscaleFrameJs,cdnDomain,capDomain,function(){return void 0!==window.AqSCode},function(){t()},function(e){loadErrorTimeout=!0===e,t()})}),window.TencentCaptcha=Captcha},function(t,e,s){"use strict";var a=function(t,e){this.i=0,this.doneCallback=t,this.isDone=!1,this.timeout=e||0;var s=this;this.immediateExec=setTimeout(function(){s.doneCheck()},0)};a.prototype={doneCheck:function(t,e){try{t&&t(e)}catch(t){}if(this.i--,this.i<=0)try{this.isDone=!0,this.doneCallback()}catch(t){}},exec:function(t,e,s){clearTimeout(this.immediateExec);var a=!1,i="",n=this;this.i++,this.i>0&&(this.isDone=!1);try{(i=t(function(t){a||(a=!0,setTimeout(function(){n.doneCheck(e,t)},0))}))&&(a=!0,setTimeout(function(){n.doneCheck(e,i)},0))}catch(t){}(s=s||this.timeout||0)>0&&setTimeout(function(){a||(a=!0,n.doneCheck(e,""))},s)}},t.exports=a},function(t,e,s){t.exports=function(t){var e,s=[],a=document,i=a.documentElement,n=i.doScroll,r=(n?/^loaded|^c/:/^loaded|c/).test(a.readyState);function o(t){for(r=1;t=s.shift();)t()}return a.addEventListener&&a.addEventListener("DOMContentLoaded",e=function(){a.removeEventListener("DOMContentLoaded",e,!1),o()},!1),n&&a.attachEvent("onreadystatechange",e=function(){/^c/.test(a.readyState)&&(a.detachEvent("onreadystatechange",e),o())}),t=n?function(e){self!=top?r?e():s.push(e):function(){try{i.doScroll("left")}catch(s){return setTimeout(function(){t(e)},50)}e()}()}:function(t){r?t():s.push(t)}}()},function(t,e,s){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(t){var e=[0,2,1][t.length%3],s=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[a.charAt(s>>>18),a.charAt(s>>>12&63),e>=2?"=":a.charAt(s>>>6&63),e>=1?"=":a.charAt(63&s)].join("")};t.exports=function(t){return t.replace(/[\s\S]{1,3}/g,i)}},function(t,e,s){"use strict";t.exports=function t(e,s,a,i,n,r,o){o=o||1;var c=!1,l=document.createElement("script");function u(t){c||(t&&"load"===t.type||/^(loaded|complete)$/.test(this.readyState))&&(i()?(c=!0,n&&n()):_())}l.type="text/javascript",l.async=!0,l.src=(o>1?a:s)+e,"onload"in l?l.onload=u:l.onreadystatechange=u;var _=function(u){c||(c=!0,document.getElementsByTagName("head").item(0).removeChild(l),o>=2?r&&r(u):t(e,s,a,i,n,r,o+1))};l.onerror=_,document.getElementsByTagName("head").item(0).appendChild(l),setTimeout(function(){_(!0)},15e3)}},function(t,e,s){"use strict";t.exports=function(t){var e=document.createElement("b");return e.innerHTML="\x3c!--[if IE "+t+"]><i></i><![endif]--\x3e",e.getElementsByTagName("i")&&1===e.getElementsByTagName("i").length}},function(t,e,s){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){try{return t instanceof HTMLElement}catch(e){return"object"===(void 0===t?"undefined":a(t))&&1===t.nodeType&&"object"===a(t.style)&&"object"===a(t.ownerDocument)}}},function(t,e,s){"use strict";var a=s(3).href;t.exports=function(){try{var t=document.getElementById("CaptchaScript")||function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var s=t[e];if(s.src.match(/captcha\.js/i))return s}}()||"";if(!t)return"";var e=t.src,s=function(t){var e=t.split("?");if(2!==e.length)return{};for(var s=e[1]&&e[1].split("&"),a={},i=0;i<s.length;i++){var n=s[i].split("=");n[1]&&(a[n[0]]=decodeURIComponent(n[1]))}return a}(e).domain;if(s)return s;var i=/(https?\:\/\/[0-9a-zA-Z-:\.]+)\//i,n=e.match(i)||a().match(i);return n?n[1]:""}catch(t){return""}}}])},VUY7:function(t,e){},XlLT:function(t,e){},dzJD:function(t,e){},gDR0:function(t,e,s){"use strict";var a=s("vn1A"),i=s.n(a),n=s("AOqO");var r=function(t){s("qoTE")},o=s("VU/8")(i.a,n.a,!1,r,"data-v-0c327807",null);e.default=o.exports},gHEG:function(t,e){},hAif:function(t,e){},pw1w:function(t,e){},qoTE:function(t,e){},sUGv:function(t,e){},tvR6:function(t,e){},vn1A:function(t,e){},wXD6:function(t,e){},"xJL+":function(t,e){},yKUb:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4e53c8d28115ddbbbe03.js.map